## 第 2 章 线性表

### 2.1 线性表的概念及其抽象数据定义类型

### 2.1.1 线性表的逻辑结构

**线性表（Linear List）**：线性表是 $n$ 个类型相同数据元素的有限序列，对 $n>0$ ，除第一元素无直接前驱、最后一个元素无直接后继外，其余的每个数据元素只有一个直接前驱和一个直接后继。数据元素之间具有一对一的关系。

在一般的线性表中，一个**数据元素**可由若干数据项组成。如学籍表，表中的一行称为一个**记录**（或称数据元素），含有大量类型相同记录的线性表称为**文件**（或称数据对象）。

综上所述，**线性表**是由 $n(n≥0)$ 个类型相同数据元素组成的有限序列，记作 $(a_1, a_2, ..., a_{i-1}, a_i, a_{i+1}, ..., a_n)$ 。

这里的数据元素 $a_i (1 ≤ i ≤ n)$ 在不同情况下具体含义可以不同，它既可以是原子类型，也可以说结构类型，但一个线性表中的数据元素必须属于同一数据对象。

线性表中相邻数据元素之间存在着序偶关系，即对于非空的线性表，表中 $a_{i-1}$ 领先于 $a_i$ ，称 $a_{i-1}$ 是 $a_i$ 的直接前驱，而称 $a_i$ 是 $a_{i-1}$ 的直接后继。线性表中元素的个数 $n$ 被定义为线性表的长度， $n=0$ 时称为空表。

> ***线性表的特点：***
> 1. **同一性**。线性表由同类数据元素组成，每一个 $a_i$ 必须属于同一数据类型。
> 2. **有穷性**。线性表由有限个数据元素组成，表长度就是表中数据元素的个数。
> 3. **有序性**。线性表中相邻数据元素之间存在着序偶关系 $<a_i,a_{i+1}>$ 。

线性表既是一种最简单的数据结构，又是一种最常见的数据结构。


---


### 2.1.2 线性表的抽象数据类型定义

> ***下面给出线性表的抽象数据类型定义。***
> 
> **$ADT\ Linear\_list$** {
> 
> &ensp;&ensp;&ensp;&ensp;**数据元素**： $D=\{ a_i\ |\ a_i ∈ D_0,\ i = 1, 2, ..., n,\ n ≥ 0,\ D_0 为某一数据类型 \}$ 
> 
> &ensp;&ensp;&ensp;&ensp;**结构关系**： $R=\{ <a_i, a_{i+1}>\ |\ a_i, a_{i+1} ∈ D_0,\ i = 1, 2, ..., n-1 \}$ 
> 
> &ensp;&ensp;&ensp;&ensp;**基本操作**：
> 
> &ensp;&ensp;&ensp;&ensp; ① $InitList(L)$ 
> 
> &ensp;&ensp;&ensp;&ensp;&ensp;&ensp; 操作前提： $L$ 为未初始化线性表。
> 
> &ensp;&ensp;&ensp;&ensp;&ensp;&ensp; 操作结果：将 $L$ 初始化为空表。
> 
> &ensp;&ensp;&ensp;&ensp; ② $ListLength(L)$ 
> 
> &ensp;&ensp;&ensp;&ensp;&ensp;&ensp; 操作前提：线性表 $L$ 已存在。
> 
> &ensp;&ensp;&ensp;&ensp;&ensp;&ensp; 操作结果：如果 $L$ 为空表则返回 $0$ ，否则返回表中的元素个数。
> 
> &ensp;&ensp;&ensp;&ensp; ③ $GetData(L, i)$ 
> 
> &ensp;&ensp;&ensp;&ensp;&ensp;&ensp; 操作前提：表 $L$ 存在，且 $1 ≤ i ≤ ListLength(L)$ 。
> 
> &ensp;&ensp;&ensp;&ensp;&ensp;&ensp; 操作结果：返回线性表  $L$ 中第 $i$ 各法元素的值。
> 
> &ensp;&ensp;&ensp;&ensp; ④ $InsList(L, i, e)$ 
> 
> &ensp;&ensp;&ensp;&ensp;&ensp;&ensp; 操作前提：表 $L$ 已存在， $e$ 为合法元素值且 $1 ≤ i ≤ ListLength(L)+1$ 。
> 
> &ensp;&ensp;&ensp;&ensp;&ensp;&ensp; 操作结果：在 $L$ 中第  $i$ 个位置之前插入新的数据元素 $e$ ， $L$ 的长度加 $1$ 。
> 
> &ensp;&ensp;&ensp;&ensp; ⑤ $DelList(L, i, e)$ 
> 
> &ensp;&ensp;&ensp;&ensp;&ensp;&ensp; 操作前提：表 $L$ 已存在且非空， $1 ≤ i ≤ ListLength(L)$ 。
> 
> &ensp;&ensp;&ensp;&ensp;&ensp;&ensp; 操作结果：删除 $L$ 的第 $i$ 个数据元素，并用 $e$ 返回其值， $L$ 的长度减 $1$ 。
> 
> &ensp;&ensp;&ensp;&ensp; ⑥ $Locate(L, e)$ 
> 
> &ensp;&ensp;&ensp;&ensp;&ensp;&ensp; 操作前提：表 $L$ 已存在， $e$ 为合法元素值。
> 
> &ensp;&ensp;&ensp;&ensp;&ensp;&ensp; 操作结果：如果 $L$ 中存在数据元素 $e$ ，则将当前指针指向数据元素 $e$ 所在位置并返回 $TRUE$ ，否则返回 $FALSE$ 。
> 
> &ensp;&ensp;&ensp;&ensp; ⑦ $DestoryList(L)$ 
> 
> &ensp;&ensp;&ensp;&ensp;&ensp;&ensp; 操作前提：线性表 $L$ 已存在。
> 
> &ensp;&ensp;&ensp;&ensp;&ensp;&ensp; 操作结果：将 $L$ 销毁。
> 
> &ensp;&ensp;&ensp;&ensp; ⑧ $ClearList(L)$ 
> 
> &ensp;&ensp;&ensp;&ensp;&ensp;&ensp; 操作前提：线性表 $L$ 已存在。
> 
> &ensp;&ensp;&ensp;&ensp;&ensp;&ensp; 操作结果：将 $L$ 置为空表。
> 
> &ensp;&ensp;&ensp;&ensp; ⑨ $EmptyList(L)$ 
> 
> &ensp;&ensp;&ensp;&ensp;&ensp;&ensp; 操作前提：线性表 $L$ 已存在。
> 
> &ensp;&ensp;&ensp;&ensp;&ensp;&ensp; 操作结果：如果 $L$ 为空表则返回 $TRUE$ ，否则返回 $FALSE$ 。
> 
> } **$ADT\ Linear\_list$**


---


### 2.2 线性表的顺序存储

### 2.2.1 线性表的顺序存储结构

线性表的顺序结构是指用一组地址连续的存储单元一次存储线性表中的各个元素，使得线性表中在逻辑上相邻的数据元素存储在连续的物理存储单元中，即通过数据元素物理存储的连续性来反映数据元素之间逻辑上的相邻关系。

采用顺序存储结构存储的线性表通常简称为**顺序表**。可将**顺序表**归纳为：**关系线性化，结点顺序存**。

在顺序表中，每个结点 $a_i$ 存储地址是该结点在表中的逻辑位置 $i$ 的线性函数，只要知道线性表中第一个元素的存储地址（基地址）和表中每个元素所占存储单元的多少，就可以计算出线性表中任意一个数据元素的存储地址，从而实现对顺序表中数据元素的随机存取。

<br>

#### 地址的计算

假设线性表中有 $n$ 个元素，每个元素占 $k$ 个单元，第一个元素的地址为 $Loc(a_1)$ ，则可通过如下公式计算出第 $i$ 个元素的地址 $Loc(a_i)$ ：

$$Loc(a_i) = Loc(a_1) + (i-1)×k$$

其中， $Loc(a_1)$ 称为基地址。

<br>

#### 线性表顺序存储的表示

可借助于高级程序设计语言中的一位数组来表示，一维数组的下标与元素在线性表中的序号相对应。

在 C 语言定义线性表的顺序存储结构如下：
```c
#define MAXSIZE 100         /* 此处的宏定义常量表示线性表的最大长度 */
typedef struct {
    ElemType elem[MAXSIZE]; /* 线性表占用的数组空间 */
    int last;               /* 记录线性表中最后一个元素在数组 elem[] 中的位置
                              （下标值），空表置为 -1 */
} SeqList
```

说明：
1. 结点类型定义中 `ElemType` 数据类型是为了描述的统一而自定的，在实际应用中可以根据需要来具体定义顺序表中元素的数据类型，如 `int` 、 `char` 、 `float` 或是一种 `struct` 结构类型。
2. 从数组中起始下标为 0 处开始存放线性表中第一个元素，因此元素序号与其在数组中的下标位置之间相差 1。

利用定义的顺序表的数据类型 `SeqList` 就可以定义变量了。变量 `L` 的定义与使用方法有以下两种：
1. 通过变量定义语句
   ```c
   SeqList L;
   ```
   将 `L` 定义为 `SeqList` 类型的变量，利用 `L.elem[i-1]` 来访问顺序表中序号为 $i$ 的元素 $a_i$ ；
   通过 `L.last` 可得到顺序表中最后一个元素的下标，而 `L.last + 1` 就是顺序表的长度。
2. 通过指针变量定义语句
   ```c
   SeqList L1, *L;
   L = &L1;
   ```
   将 `L` 定义为指向 `SeqList` 类型的指针变量，使用时，可通过 `L->elem[i - 1]` 来访问顺序表中序号为 $i$ 的元素 $a_i$ ，使用 `L->last + 1` 则得到顺序表的长度。


---


### 2.2.2 线性表顺序存储结构上的基本运算

<br>

#### 查找操作
线性表有两种基本的查找运算。

1. **按序号查找 $GetData(L, i)$**：查找顺序表 $L$ 中第 $i$ 个数据元素。
   核心语句为 `L.elem[i - 1]` 。

2. **按内容查找 $Locate(L, e)$**：要求查找顺序表 $L$ 中与给定值 $e$ 相等的数据元素。
   在顺序表 $L$ 中找到与 $e$ 相等的元素，则返回该元素在表中的序号；
   若找不到，则返回一个“空序号”标识，如 -1。

