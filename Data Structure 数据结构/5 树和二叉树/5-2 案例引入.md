# 案例引入
随着大数据时代的到来，如何采用有效的数据压缩技术，来节省数据文件的存储空间和网络传输时间越来越引起人们的重视。

- **案例 5.1：数据压缩问题**
  
  在数据通信、数据压缩问题中，需要将数据文件转换成由二进制字符 `0` 、 `1` 组成的二进制串称之为编码。
  
  假设待压缩的数据为 `"abcdabcdaaaaabbbdd"` ，文件中只包含 `a` 、 `b` 、 `c` 、 `d` 四种字符，如果采用等长编码，每个字符编码取两位即可，下表 (a) 所示为一种等长编码方案。上述数据为 $18$ 个字符，其编码总长度为 $36$ 位。但这并非最优的编码方案，因为每个字符出现的频率不同，如果在编码时考虑字符出现的频率，使频率高的字符采用尽可能短的编码，频率低的字符采用稍长的编码，来构造一种不等长编码，则会获得更好的空间效率，这也是文件压缩技术的核心思想。如表 (b) 所示为一种不等长编码方案，采用这种编码方案时，其编码总长度为 $35$ 位。但对于不等长编码，如果设计得不合理，便会给解码带来困难。例如，对于如表 (c) 所示的另一种不等长编码方案，上述数据编码后为 `"00101111100101111100000010101111111"` 。但是，这样的编码数据无法翻译，例如，传送过去的字符串中前 4 个字符的子串 `"0010"` 就可有不同的译法，或是 `"aba"` ，或是 `"ac"` 。因此，若要设计长短不等的编码，必须满足一个条件：任何一个字符的编码都不是另一个字符的编码的前缀。表 (b) 所示的编码方案便满足这个条件。
  
  - 3 种不同的编码方案：
    
    - (a) 等长编码方案
  
      | 字符 | 编码 |
      |:----:|:----:|
      |  `a` | `00` |
      |  `b` | `01` |
      |  `c` | `10` |
      |  `d` | `11` |
  
    - (b) 不等长编码方案 1
  
      | 字符 |  编码 |
      |:----:|:-----:|
      |  `a` |  `0`  |
      |  `b` |  `10` |
      |  `c` | `110` |
      |  `d` | `111` |
  
    - (c) 不等长编码方案 2
  
      | 字符 |  编码 |
      |:----:|:-----:|
      |  `a` |  `0`  |
      |  `b` |  `01` |
      |  `c` | `010` |
      |  `d` | `111` |
  
  
  那么如何设计有效的用于数据压缩的二进制编码呢？我们可以利用一种特殊的树结构——哈夫曼树来设计。表 (b) 所示的编码是以字符 `a` 、 `b` 、 `c` 、 `d` 在数据串 `"abcdabcdaaaaabbbdd"` 中出现的次数 $7$ 、 $5$ 、 $2$ 、 $4$ 为权值，构造如下图所示的哈夫曼树，其 4 个叶子结点分别表示 `a` 、 `b` 、 `c` 、 `d` 这 4 个字符，且约定左分支标记为 `0` ，右分支标记为 `1` ，则根结点到每个叶子结点路径上的 `0` 、 `1` 序列即为相应字符的编码。由下图所得 `a` 、 `b` 、 `c` 、 `d` 的二进制编码分别为 `0` 、 `10` 、 `110` 和 `111` 。

  - 哈夫曼树及编码示例：
    ![哈夫曼树及编码示例](https://static.owo.cab/notes/image/cs/ds/chapter05/哈夫曼树及编码示例.webp "哈夫曼树及编码示例")

  有关哈夫曼树的构造及其编码设计的具体内容，将在 5.7 节详细介绍。

<br>

- **案例 5.2：利用二叉树求解表达式的值**
  
  一般情况下，一个表达式由一个运算符和两个操作数构成，两个操作数之间有次序之分，并且操作数本身也可以是表达式，这个结构类似于二叉树，因此可以利用二叉树来表示表达式。
  
  以二叉树表示表达式的递归定义如下：
  1. 若表达式为数或简单变量，则相应二叉树中仅有一个根结点，其数据域存放该表达式信息；
  2. 若表达式为“第一操作数运算符第二操作数”的形式，则相应的二叉树中以左子树表示第一操作数，右子树表示第二操作数，根结点的数据域存放运算符（若为一元运算符，则左子树为空），其中，操作数本身又为表达式。
  
  如下图所示的二叉树表示表达式 `a + b * (c - d) - e / f` 。在二叉树中表达式中并无括号，但其结构却有效地表达了其运算符间的运算次序。利用二叉树的遍历等操作，可实现表达式的求值运算，有关内容将在5.8节详细介绍。
  
  - 表达式 `(a + b * (c - d) - e / f)` 的二叉树：
    ![表达式(a+b*(c-d)-e/f)的二叉树](https://static.owo.cab/notes/image/cs/ds/chapter05/表达式的二叉树.webp "表达式(a+b*(c-d)-e/f)的二叉树")